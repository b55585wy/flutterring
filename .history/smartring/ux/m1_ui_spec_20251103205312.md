# M1 UI 规格说明（供 Figma 制作参考）

> 本说明用于指导 Figma 线框 / 视觉稿搭建，目标是保持现有 Flutter UI 风格，明确布局、间距、字体、颜色等细节，便于后续编码对齐。

## 1. 全局设置

- **画板尺寸**：默认使用 1440 × 900（桌面展示）与 390 × 844（移动端 iPhone 13）两套；M1 优先移动端。
- **布局网格**：
  - 移动端：4 列网格，边距 20px，列间距 16px。
  - 桌面端：12 列网格，边距 120px，列间距 24px（可留作后续扩展）。
- **基础间距单位**：4px；常用间距为 8 / 12 / 16 / 20 / 24 / 32。
- **圆角**：组件统一 12px（按钮、卡片、输入框），弹窗顶部圆角 16px。
- **阴影**：
  - 卡片：`0 10px 20px rgba(15, 23, 42, 0.1)`
  - 弹窗：`0 12px 32px rgba(15, 23, 42, 0.12)`

### 1.1 字体系统

| 层级 | 字体 | 字号 | 行高 | 用途 |
|------|------|------|------|------|
| H1 | SF Pro Display / HarmonyOS Sans Bold | 24 | 32 | 页面主标题 |
| H2 | SF Pro Text Semibold | 20 | 28 | 模块标题（如“实时指标”）|
| H3 | SF Pro Text Medium | 16 | 24 | 卡片小标题、列表标题 |
| Body | SF Pro Text Regular | 14 | 20 | 正文、提示文案 |
| Caption | SF Pro Text Regular | 12 | 16 | 标签、辅助信息 |

> 若 Figma 中无 SF Pro，可暂用 Inter 作为替代，字重保持一致。

### 1.2 颜色系统

| 名称 | Hex | 用途 |
|------|-----|------|
| Primary / Blue | `#2563EB` | 主要按钮、强调文本、加载条 |
| Primary Light | `#DBEAFE` | 主色浅背景（按钮悬停、选中状态）|
| Success | `#10B981` | 连接成功状态、心率图标 |
| Warning | `#F59E0B` | 权限提醒、低电量提示 |
| Danger | `#EF4444` | 错误提示、断开状态 |
| Neutral 900 | `#0F172A` | 主文案、标题 |
| Neutral 700 | `#334155` | 次要文案、图标 |
| Neutral 500 | `#64748B` | 描述、占位文字 |
| Neutral 200 | `#E2E8F0` | 分割线、边框 |
| Background | `#F8FAFC` | 页面背景 |
| Card Background | `#FFFFFF` | 卡片、弹窗背景 |


## 2. Dashboard 页面规格

### 2.1 布局结构

1. **顶部 AppBar（高度 64px）**
   - 左侧：Logo/项目名（文字 “OpenRing”），字号 20，字重 Bold。
   - 右侧：`设置` 图标按钮（24px），内边距 12。
   - 背景：白色，底部阴影 `0 4px 12px rgba(15, 23, 42, 0.05)`。

2. **连接状态卡片**
   - 尺寸：全宽 - 边距，最小高度 88px。
   - 左侧圆形图标容器：40 × 40，背景依状态切换（Connected 使用 Success Light）。
   - 中间文案：
     - 主文案（H3）：`戒指已连接` / `戒指未连接`
     - 副文案（Body）：显示设备名 + 电量 / 提示扫描。
   - 右侧按钮：`断开` or `扫描`，使用 Primary 或 Outline 样式。

3. **实时指标卡片区域**
   - 使用水平 Scroll 或两列栅格。
   - 每个卡片：宽 160、高 120，内边距 16。
   - 内容：图标（20px）、指标名称（Caption）、主数值（H1）、单位（Caption）。
   - 心率卡颜色：背景渐变 `Primary → Primary Light`；呼吸率卡颜色：`Success → Success Light`。

4. **操作区卡片（高度 160)**
   - 左侧展示“开始测量” Call-to-action：按钮占据 60% 宽度。
   - 右侧显示 “查看历史”、“设备设置”等快捷入口（可用 Icon Button）。
   - 卡片背景可使用蓝色渐变或插画。

5. **数据预览/测量状态**
   - 放置在底部，展示最近一次测量时间、导出状态。

### 2.2 组件样式

- **按钮**：
  - Primary：背景 `#2563EB`，文字白色，圆角 12，竖直内边距 12，水平 20。
  - Secondary Outline：边框 `#2563EB`，文字 `#2563EB`，背景透明。
- **标签**（信号质量）：
  - 优秀 `#10B981`，良好 `#22C55E`，一般 `#F59E0B`，差 `#EF4444`，无信号 `#94A3B8`。


## 3. 设备扫描弹窗规格

- **弹窗尺寸**：高度 60% 视窗；顶部圆角 16，背景白色。
- **标题区域**：内边距 20；右侧放置关闭图标。
- **列表项**：高度 64，左右内边距 20。
  - 左侧图标：蓝色蓝牙图标 20px。
  - 内容：
    - 主标题：设备名称（H3）
    - 副标题：`MAC | RSSI：-65 dBm`（Caption，Neutral 500）
  - 右侧：连接按钮（Primary 细按钮）或状态图标（连接中显示 spinner）。
- **空状态**：使用线形插画 + 文案 `暂无设备，请重新扫描`，按钮 `重新扫描`。
- **底部按钮区**：固定高度 72，背景白色，上边分割线 Neutral 200。


## 4. 测量页面规格

### 4.1 头部

- 返回按钮＋标题：`实时测量`（H2）。
- 状态标签：显示 `已连接到 BCL603DD43` + 信号质量标签。

### 4.2 主体

1. **倒计时卡片**
   - 高度 120，背景 `Primary Light`。
   - 主显示：剩余时间（H1，居中）。
   - 副显示：当前测量模式（在线 / 离线）。

2. **波形占位**（M1 可以使用灰色框）
   - 尺寸：全宽，最小高度 180，背景 `#0F172A` 透明度 0.85。
   - 放置虚线或 “实时波形即将上线”的提示。

3. **指标区**
   - 与 Dashboard 卡片统一。

4. **时长选择器**
   - 使用横向按钮组（Segmented Control）
   - 选中态背景 `Primary`，文字白色；未选中使用白底 + 边框 `Primary`。
   - 自定义弹出 Dialog 输入秒数。

5. **控制按钮**
   - 主按钮：`开始测量` / `停止测量`，底部居中，宽 80% 画板宽度。
   - 旁边（右下角）可放“导出记录”快捷入口（灰色按钮）。

### 4.3 底部提示

- 文案区域（高度 60）：`测量数据会自动保存于本地，可在历史页面导出。`
- 背景使用 Neutral 200，文字 Neutral 700。


## 5. 设置页面规格

### 5.1 分组结构

利用 List 分组，每组包含标题 + 描述 + Icon。

1. **设备管理**
   - 连接状态：`已连接 / 未连接`，显示地址。
   - 设备信息：固件版本、电量、上次连接时间。

2. **权限管理**
   - 蓝牙扫描、蓝牙连接、定位权限状态。
   - 每项右侧放 `前往设置` 小按钮或链接。

3. **调试工具**（P1 预留）
   - 日志导出、时间同步。

### 5.2 样式细节

- 列表项高度 72，左右内边距 20。
- 图标：Material Icons 24px，使用 Neutral 500 色。
- 分割线使用 Neutral 200。


## 6. 颜色/字重对照表

| 元素 | 字重 | 颜色 |
|------|------|------|
| 主标题（页面） | Bold | Neutral 900 |
| 卡片标题 | Semibold | Neutral 700 |
| 数值 | Bold | Neutral 900 / White |
| 说明文字 | Regular | Neutral 500 |
| 按钮文本（主） | Semibold | White |
| 按钮文本（次） | Semibold | Primary |


## 7. 交互状态规则（摘选）

- 按钮：
  - Hover：背景加深 10%，阴影 `0 6px 16px rgba(37, 99, 235, 0.3)`。
  - Pressed：背景再加深 20%，阴影减弱。
  - Disabled：背景 `#94A3B8`，文字白色，阴影去除。
- 输入框/Segment：选中时边框 `#2563EB`，未选中 `#CBD5F5`。
- 状态标签：不同状态使用对应颜色，文字保持白色或深色对比度。


## 8. Figma 组织建议

- 创建 `Styles`：
  - Color Styles：Primary, Primary Light, Neutral 900...（按表录入）。
  - Text Styles：H1/H2/H3/Body/Caption。
  - Effects：Card Shadow, Modal Shadow。
- 建立 `Component`：
  - Buttons（Primary, Outline, Ghost）
  - Status Tag（5 种状态）
  - Metric Card（模板）
  - List Item（标题 + 描述 + 按钮）


## 9. 输出要求

- Figma 文件内需包含：Dashboard、测量、设备扫描弹窗、设置 四个画板。
- 每个画板附带标注（使用注释或 overlay）说明关键间距。
- 将 Figma 链接写入 `smartring/ux/README.md`。


## 10. 下一步行动

1. 依据此规格在 Figma 建立组件库和画板。
2. 在 `ux/README.md` 中记录链接和版本号，方便同步迭代。
3. 后续视觉/动效调整时，更新此规范并同步至开发团队。


