# SmartRing 项目里程碑与交付计划

## 1. 总体节奏

- **阶段定位**：以 MVP 为核心（单设备科研采集），逐步迭代到多设备、云协同能力。
- **开发周期建议**：每个里程碑 2~3 周迭代，包含需求细化、开发、测试与回顾。
- **角色分工**：
  - 产品：需求澄清、用户验证、验收。
   - 技术：架构演进、功能开发、测试。
  - QA/科研顾问：实验验证、用户反馈。

## 2. 里程碑概览

| 里程碑 | 目标 | 关键交付 | 预计周期 |
|--------|------|----------|----------|
| M1 架构基线 | 搭建分层结构、稳定事件流 | 目录重构、广播式 eventStream、扫描流程重写、开发规范 | 2 周 |
| M2 核心采集 MVP | 完成 P0 功能（F1~F7） | 扫描/连接、实时指标、测量、缓存、导出 | 3 周 |
| M3 研究工作流增强 | P1 功能（波形、受试者笔记、日志、偏好） | 波形预览、实验元数据、日志导出、权限设置 | 3 周 |
| M4 可靠性 & 测试 | 稳定性、监控、QA | 自动化测试、日志体系、QA 用例、试点实验 | 2 周 |
| M5 多设备/扩展 | 筹备 8 小时续录、多设备管理 | 分段写盘、自动续录设计、设备池管理雏形 | 3 周 |


## 3. 详细计划

### M1 架构基线

**目标**：提供可持续迭代的技术底座，解决事件流冲突。

**关键任务**：
- 完成 `docs/software_architecture.md` 中描述的分层目录与模块初始化。
- 实现 `RingPlatform.eventStream` 单例广播并回归测试。
- 拆分 `BleScanController`、`DeviceConnectionController` 初版。
- 编写开发规范文档（代码约定、日志格式、PR 模板）。

**验收标准**：
- 新架构在真机上完成扫描、连接流程，无事件丢失。
- 主要控制器具备单元测试样例。
- 产品/技术双方确认架构文档与规范。

### M2 核心采集 MVP

**目标**：交付需求文档中 F1~F7 功能。

**关键任务**：
- 完成扫描 UI（列表、RSSI 排序、去重）。
- 连接状态条与错误提示。
- 实时指标面板（心率、呼吸率、信号质量）。
- 测量控制：预设时长、自定义、倒计时。
- 样本缓存模块（≤30 分钟）、导出 CSV/JSON。
- 内部测试 & 手册草稿。

**验收标准**：
- 在实验室环境下成功完成一次完整测量并导出数据。
- 导出文件通过数据科学团队的脚本验证格式正确。
- Bug list / 反馈整理完成。

### M3 研究工作流增强

**目标**：提升科研使用体验，支持 P1 功能。

**关键任务**：
- 实时波形预览组件。
- 受试者/实验笔记表单与元数据绑定。
- 连接日志页面 + 导出。
- 权限状态页、默认偏好设置。
- 设备信息/电量展示。

**验收标准**：
- 试点用户对操作流程满意度 ≥4/5。
- 波形渲染性能达标（≥10 FPS）。
- 日志/偏好设置能覆盖常见调试场景。

### M4 可靠性 & 测试

**目标**：确保上线前的稳定性与监控能力。

**关键任务**：
- 建立 CI pipeline（lint、test、build）。
- 集成日志封装、Crashlytics。
- 编写 QA 测试用例，执行回归测试。
- 记录试点实验数据、反馈，整理改进计划。

**验收标准**：
- CI 通过率稳定 ≥95%。
- QA 覆盖率达到 P0 功能 100%。
- 所有高优缺陷被关闭或有清晰排期。

### M5 多设备 / 8 小时续录预研

**目标**：规划下一阶段扩展能力。

**关键任务**：
- 设计分段写盘与自动续录方案，验证 8 小时采集的可行性。
- 调研并原型化多设备管理（列表分组、状态总览）。
- 制定 API/SDK 接入蓝图。
- 汇总用户反馈，准备下一版产品愿景更新。

**验收标准**：
- 完成 8 小时采集技术验证报告。
- 多设备功能原型获得科研顾问认可（可执行性）。
- 更新后的产品路线图获得团队评审通过。


## 4. 配套交付物

- **文档**：`vision/`、`requirements/`、`docs/software_architecture.md` 持续迭代。
- **原型**：在 `ux/` 目录存放关键流程稿、Figma 链接。
- **日志 & QA**：`research/` 下记录试点实验结果、竞品调研、数据指标。
- **会议纪要**：建议建立 `smartring/meetings/`（待创建），记录评审结论。


## 5. 依赖与风险管理

- 硬件固件升级节奏需与软件里程碑同步，避免接口不匹配。
- 科研合作伙伴的试点时间需提前锁定，保障测试资源。
- 里程碑之间保留缓冲（约 20% 时间）处理突发问题。
- 若资源紧张，可按优先级调整：先保证 M2，M3/M4 可并行或延后。


## 6. 下一步

1. 安排 M1 启动会议，确认任务分解与责任人。
2. 为 M2 功能编写详细用户流程（放入 `ux/`）。
3. 定期（每两周）更新此里程碑文档，记录达成情况与调整。


